### Introduction
An approach that is using asynchronous concurrent go routines and communication and synchronisation via go channels.

### Approach
The problem has been divided into multiple steps in a pipe-line: 
 * read line
 * do currency conversion if necessary
 * group and calculate sum
 
Closing a channel is used as a signal for the next step in the pipe-line that there is no more to process and the routine should exit.

One final signal channel is used to signal to the main process that output is finished and the application can terminate

### Results

10,000,000 transactions and 100 unique partners.

Slower than the simple solution.

Even worse if multiple cores are used.

Single core:

```
Starting Collector
Calculating partner totals for [Partner 1]...
startCurrencyConverter
Loading exchange rates...
Starting Reader
1000000 records processed...
2000000 records processed...
3000000 records processed...
4000000 records processed...
5000000 records processed...
6000000 records processed...
7000000 records processed...
8000000 records processed...
9000000 records processed...
10000000 records processed...
Reader: reached end of file, breaking
Reader routine terminating
Currency covertor: incoming channel closed, breaking.
Currency Converter routine terminating...
Collector: channel closed, breaking...
Write results to disk
50253260.00 (for partner Partner 1 and currency GBP)
Collector routine terminating...
Results channel closed, exiting main
Excution took 34.160157257s
```

4 cores:

```
Loading exchange rates...
Starting Reader
1000000 records processed...
2000000 records processed...
3000000 records processed...
4000000 records processed...
5000000 records processed...
6000000 records processed...
7000000 records processed...
8000000 records processed...
9000000 records processed...
10000000 records processed...
Reader: reached end of file, breaking
Reader routine terminating
Currency covertor: incoming channel closed, breaking.
Currency Converter routine terminating...
Collector: channel closed, breaking...
Write results to disk
4944789.50 (for partner Partner 1 and currency GBP)
Collector routine terminating...
Results channel closed, exiting main
Excution took 42.99037841s
```

100,000,000 transactions and 100 unique partners.

```
Starting Collector
Calculating partner totals for [Partner 1]...
startCurrencyConverter
Loading exchange rates...
Starting Reader
1000000 records processed...
2000000 records processed...
3000000 records processed...
4000000 records processed...
5000000 records processed...
6000000 records processed...
7000000 records processed...
8000000 records processed...
9000000 records processed...
...
97000000 records processed...
98000000 records processed...
99000000 records processed...
100000000 records processed...
Reader: reached end of file, breaking
Reader routine terminating
Currency covertor: incoming channel closed, breaking.
Currency Converter routine terminating...
Collector: channel closed, breaking...
Write results to disk
501056480.00 (for partner Partner 1 and currency GBP)
Collector routine terminating...
Results channel closed, exiting main
Excution took 3m25.115834577s
```